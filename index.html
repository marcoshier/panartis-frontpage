<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <link href="/style.css" rel="stylesheet">
    <title>Panartis - Front Page</title>
</head>

<body>

    <!--HEADER-->

    <header>
        <div class="logo">
            <img src="/img/Logo.svg" class="logo" />
        </div>
        <div class="hamburger">
            <img src="/img/Hamburger.svg" class="hamburger" />
        </div>
    </header>


    <div id="content-wrapper">

        <div id="slogan">
            <h1 class="slogan-text">
                Revolutionizing art and collectibles research by providing information, insight, and collaboration.
            </h1>
        </div>


        <div id="search-box">
            <div class="phantom-box">
                <img class="lens" src="img/Search_icon.svg" />

                <div class="inner-wrapper">

                    <div class="input-cnt">
                        <input type="search" required/>
                        <span class="placeholder">Research any object</span>
                    </div>


                    <div class="domain-cnt" onmouseleave="domainsOff()">
                        <div class="domain pill humanities humanities-pill" onmouseover="domainOn(event, this)">
                            <!-- TODO check class name conflict-->
                            <span><i>in</i> Humanities</span>
                            <img src="img/Dropdown_Arrow.svg" />
                        </div>
                        <div class="domain pill science science-pill" onmouseover="domainOn(event, this)">
                            <span><i>in</i> Science</span>
                            <img src="img/Dropdown_Arrow.svg" />
                        </div>
                        <div class="domain pill markets markets-pill" onmouseover="domainOn(event, this)">
                            <span><i>in</i> Markets</span>
                            <img src="img/Dropdown_Arrow.svg" />
                        </div>
                    </div>

                </div>
                <div class="filters-btn">
                    <p>FILTERS</p>
                    <img src="img/Filters_icon.svg" />
                </div>
            </div>
            <div id="subdomains-cnt" onmouseover="subdomainsOn()" onmouseleave="subdomainsOff()">
                <div class="subdomains-section humanities">
                    <div class="subdomains-cnt-img"></div>
                    <div class="subdomains-cnt-desc">
                        <p>A short description of what the domain is about can fit here.</p>
                    </div>
                    <ul class="subdomains">
                        <li class="subdomain">
                            <input id="checkbox1" type="checkbox" />
                            <label for="checkbox1">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox2" type="checkbox" />
                            <label for="checkbox2">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox3" type="checkbox" />
                            <label for="checkbox3">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox4" type="checkbox" />
                            <label for="checkbox4">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox5" type="checkbox" />
                            <label for="checkbox5">Subdomain</label>
                        </li>
                    </ul>
                    <div class="options">
                        <a href="#">SELECT ALL</a>
                        <a class="save" href="#">SAVE</a>

                        <a class="deactivate" href="#">DEACTIVATE</a>
                    </div>
                </div>
                <div class="subdomains-section science">
                    <div class="subdomains-cnt-img"></div>
                    <div class="subdomains-cnt-desc">
                        <p>A short description of what the domain is about can fit here.</p>
                    </div>

                    <ul class="subdomains">
                        <li class="subdomain">
                            <input id="checkbox1" type="checkbox" />
                            <label for="checkbox1">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox2" type="checkbox" />
                            <label for="checkbox2">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox3" type="checkbox" />
                            <label for="checkbox3">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox4" type="checkbox" />
                            <label for="checkbox4">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox5" type="checkbox" />
                            <label for="checkbox5">Subdomain</label>
                        </li>
                    </ul>
                    <div class="options">
                        <a href="#">SELECT ALL</a>
                        <a class="save" href="#">SAVE</a>

                        <a class="deactivate" href="#">DEACTIVATE</a>
                    </div>
                </div>
                <div class="subdomains-section markets">
                    <div class="subdomains-cnt-img"></div>
                    <div class="subdomains-cnt-desc">
                        <p>A short description of what the domain is about can fit here.</p>
                    </div>

                    <ul class="subdomains">
                        <li class="subdomain">
                            <input id="checkbox1" type="checkbox" />
                            <label for="checkbox1">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox2" type="checkbox" />
                            <label for="checkbox2">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox3" type="checkbox" />
                            <label for="checkbox3">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox4" type="checkbox" />
                            <label for="checkbox4">Subdomain</label>
                        </li>
                        <li class="subdomain">
                            <input id="checkbox5" type="checkbox" />
                            <label for="checkbox5">Subdomain</label>
                        </li>
                    </ul>
                    <div class="options">
                        <a href="#">SELECT ALL</a>
                        <a class="save" href="#">SAVE</a>

                        <a class="deactivate" href="#">DEACTIVATE</a>
                    </div>
                </div>
            </div>
        </div>



        <!--PERSONAL SPACE-->

        <div id="personal-space-cnt">
            <h3>MY PERSONAL SPACE</h3>
            <div id="carousel">
                <div class="carousel-text">
                    <h1>Catalogues are central to the platform. You can for instance create a catalogue raisonné, exhibits, etc.</h1>
                </div>
                <div class="carousel-image">

                </div>

            </div>
            <div id="objects-cnt">
                <div class="object-category">
                    <div class="category-header">
                        <p>NO CATALOGUES YET</p>
                        <a>ADD A CATALOGUE+</a>
                    </div>
                    <div class="empty-category-text"><b>WHAT ARE CATALOGUES?</b> <br /><br />CATALOGUES are central to the PANARTIS platform. You can for instance create a catalogue raisonné, exhibits, and discuss about it. Decide where you share it, with peers only, or to the wider
                        art world. </div>
                    <input type="button" value="GET STARTED" />
                </div>
                <div class="object-category">
                    <div class="category-header">
                        <p>NO GROUPS YET </p>
                        <a>ADD A GROUP +</a>
                    </div>
                    <div class="empty-category-text"><b>WHAT CAN YOU DO IN GROUPS?</b> <br /><br />GROUPS permits professionals to interact within controlled- access workspaces,you can create catalogue raisonné, exhibits, and joint research projects. </div>
                    <input type="button" value="GET STARTED" />
                </div>
                <div class="object-category">
                    <div class="category-header">
                        <p>NO ORGANIZATIONS YET</p>
                        <a>ADD AN ORGANIZATION+</a>
                    </div>
                    <div class="empty-category-text"><b>WHAT CAN YOU DO IN ORGANIZATIONS?</b> <br /><br />ORGANIZATIONS lets dealer consortia and musea share information, more text to explain what you can do here. </div>
                    <input type="button" value="GET STARTED" />
                </div>
                <div class="object-category">
                    <div class="category-header">
                        <p>NO NEWS YET</p>
                        <a>ADD A NEWS ITEM+</a>
                    </div>
                    <div class="empty-category-text"><b>WHAT IS NEWS?</b> <br /><br />CATALOGUES are central to the PANARTIS platform. You can for instance create a catalogue raisonné, exhibits, and discuss about it. Decide where you share it, with peers only, or to the wider art world.
                    </div>
                    <input type="button" value="GET STARTED" />
                </div>
                <div class="object-category">
                    <div class="category-header">
                        <p>NO EXHIBITIONS YET </p>
                        <a>ADD AN EXHIBITION +</a>
                    </div>
                    <div class="empty-category-text"><b>WHAT CAN YOU DO IN EXHIBITIONS?</b> <br /><br />GROUPS permits professionals to interact within controlled- access workspaces,you can create catalogue raisonné, exhibits, and joint research projects </div>
                    <input type="button" value="GET STARTED" />
                </div>
                <div class="object-category">
                    <div class="category-header">
                        <p>NO MEDIA YET</p>
                        <a>ADD MEDIA +</a>
                    </div>
                    <div class="empty-category-text"><b>WHAT CAN YOU DO IN MEDIA? </b> <br /><br /> ORGANIZATIONS lets dealer consortia and musea share information, more text to explain what you can do here. </div>
                    <input type="button" value="GET STARTED" />
                </div>
            </div>
        </div>
    </div>


</body>
<script type="text/javascript">
    let subdomainIsOn = false,
        domainIsOn = true,
        debounce = 100,
        pillsCnt = document.querySelector(".domain-cnt"),
        pills = Array.from(document.querySelectorAll(".domain")),
        subdomainCnt = document.getElementById("subdomains-cnt"),
        subdomainCntWidth = subdomainCnt.getBoundingClientRect().width,
        subSections = Array.from(document.querySelectorAll(".subdomains-section"));


    let moveSubdomains = (distance) => {

    }

    let colorPill = (color, i) => {
        subdomainCnt.style.backgroundColor = color
        let distance = i * subdomainCntWidth

        subSections.forEach(subsection => {
            gsap.to(subsection, {
                duration: 0.5,
                ease: "power4.inOut",
                x: -distance
            })
        })


    }

    let expandPill = (event, el) => {


        el.classList.remove("greyedout");
        pills.filter(pill => pill != el).forEach(greypill => greypill.classList.add("greyedout"));

        if (subdomainIsOn == false) {
            subdomainCnt.classList.add("expanded")
        }


        if (el.classList.contains("humanities")) {
            colorPill("#F5E3A6", 0);
        } else if (el.classList.contains("science")) {
            colorPill("#96EFAA", 1);
        } else if (el.classList.contains("markets")) {
            colorPill("#F4B5B1", 2);
        }
    }

    let collapse = () => {

        pills.forEach(pill => {
            if (pill.classList.contains("greyedout")) {
                pill.classList.remove("greyedout")
            }
        })

        setTimeout(() => {
            subdomainCnt.classList.remove("expanded")

        }, 500);

    }

    let domainOn = (e, el) => {
        e.stopPropagation()
        let element = el

        domainIsOn = true;

        if (element != undefined) {
            expandPill(e, element);
        }
    }

    let domainsOff = () => {
        domainIsOn = false;

        setTimeout(() => {

                if (subdomainIsOn == false) {
                    // IF ALSO SUBDOMAIN IS NOT HOVERED THEN COLLAPSE EVERYTHING
                    // TODO COLLAPSE
                    collapse();
                }
            }, debounce)
            // DOMAIN IS NOT HOVERED

    }

    let subdomainsOn = () => {
        subdomainIsOn = true;
        console.log(subdomainIsOn)
    }

    let subdomainsOff = () => {
        subdomainIsOn = false;


        setTimeout(() => {
            if (domainIsOn == false) {
                collapse();
            } else {
                // LISTEN FOR NEWLY HOVERED PILL
            }
        }, debounce);

    }
</script>

</html>